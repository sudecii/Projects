# üè° Housing‚ÄØPrice‚ÄØPrediction‚ÄØAPI

**–¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞.**  
–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –¥–µ–ø–ª–æ–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞ –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è —Ä—ã–Ω–æ—á–Ω–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∂–∏–ª–æ–π –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –≤ –°–®–ê.  
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–Ω—Å–∞–º–±–ª–µ–≤–∞—è –º–æ–¥–µ–ª—å (—Å—Ç–µ–∫: LightGBM‚ÄØ+‚ÄØRandomForestRegressor) –∏ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è —Ü–µ–ª–µ–≤–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —á–µ—Ä–µ–∑ TransformedTargetRegressor ‚Äî —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–¥–∞–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å—Ä–∞–∑—É –≤ –¥–æ–ª–ª–∞—Ä–∞—Ö –°–®–ê (USD).

---

## üìå –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- RESTful‚ÄØAPI –Ω–∞ Flask –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π –∫–∞–∫ –¥–ª—è –æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞, —Ç–∞–∫ –∏ –¥–ª—è –±–∞—Ç—á–∞.  
- –≠–Ω–¥–ø–æ–∏–Ω—Ç `/features` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–µ—á–µ–Ω—å –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤.  
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –∏ –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –º–æ–¥–µ–ª—å + —Å–ø–∏—Å–æ–∫ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤, –≥–æ—Ç–æ–≤–∞—è –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏ –∑–∞–ø—É—Å–∫—É –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω.  
- –ú–µ—Ç—Ä–∏–∫–∏ –º–æ–¥–µ–ª–∏: **R¬≤ ‚âà‚ÄØ0.72**, **MAE‚ÄØ‚âà‚ÄØ138‚ÄØ—Ç—ã—Å.‚ÄØUSD**, **RMSE‚ÄØ‚âà‚ÄØ355‚ÄØ—Ç—ã—Å.‚ÄØUSD** ‚Äî –º–æ–¥–µ–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∏ –æ–±—ä—è—Å–Ω—è–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –≤–∞—Ä–∏–∞—Ü–∏–π —Ü–µ–Ω.

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
git clone https://github.com/<your_username>/housing_price_prediction.git
cd housing_price_prediction
pip install -r requirements.txt
python3 app/server.py
```

–°–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: `http://127.0.0.1:8000`

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:

```bash
curl http://127.0.0.1:8000/health
# ‚Üí {"status": "ok"}
```

---

## üóÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
housing_price_prediction/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ server.py              ‚Üê Flask-—Å–µ—Ä–≤–∏—Å (—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã /health, /features, /predict, /predict_batch)
‚îÇ   ‚îî‚îÄ‚îÄ utils.py               ‚Üê –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (payload ‚Üí DataFrame)
‚îÇ
‚îú‚îÄ‚îÄ artifacts/
‚îÇ   ‚îú‚îÄ‚îÄ stacking_model.joblib  ‚Üê –û–±—É—á–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å 
‚îÇ   ‚îî‚îÄ‚îÄ feature_list.json      ‚Üê –°–ø–∏—Å–æ–∫ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ 
‚îÇ
‚îú‚îÄ‚îÄ data/                      ‚Üê –°—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ 
‚îÇ   ‚îú‚îÄ‚îÄ data.csv
‚îÇ   ‚îú‚îÄ‚îÄ health_zcta.csv
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ main.ipynb             ‚Üê  –Ω–æ—É—Ç–±—É–∫ —Å –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º –∏ –æ–±—É—á–µ–Ω–∏–µ–º –º–æ–¥–µ–ª–∏
‚îÇ
‚îú‚îÄ‚îÄ .gitignore                 ‚Üê
‚îú‚îÄ‚îÄ .dockerignore              
‚îú‚îÄ‚îÄ Dockerfile                 ‚Üê –î–ª—è —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞ –∏ –¥–µ–ø–ª–æ—è API
‚îú‚îÄ‚îÄ requirements.txt           ‚Üê –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îî‚îÄ‚îÄ README.md                  
```

---

## ‚öô –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã API

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç        | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                |
|-------|------------------|-------------------------------------------|
| GET   | `/health`        | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞                |
| GET   | `/features`      | –°–ø–∏—Å–æ–∫ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –º–æ–¥–µ–ª–∏                   |
| POST  | `/predict`       | –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ —Ü–µ–Ω—ã –¥–ª—è –æ–¥–Ω–æ–≥–æ –¥–æ–º–∞        |
| POST  | `/predict_batch` | –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ —Ü–µ–Ω—ã –¥–ª—è —Å–ø–∏—Å–∫–∞ –¥–æ–º–æ–≤       |

### `/predict` ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç  
**–ó–∞–ø—Ä–æ—Å:**
```bash
curl -X POST http://127.0.0.1:8000/predict      -H "Content-Type: application/json"      -d '{  
         "propertyType": "single_family",  
         "baths": 3,  
         "fireplace": 1,  
         "city": "Miami",  
         "sqft": 2200,  
         "state": "FL",  
         "stories": 2,  
         "has_pool": 1,  
         "is_auction": 0,  
         "year_built": 2015,  
         "min_distance_to_school": 0.6,  
         "schools_count": 6,  
         "avg_school_rating": 7.8,  
         "parking_count": 2,  
         "has_central_cooling": 1,  
         "population_zip": 65000,  
         "density_zip": 1800,  
         "city_from_zip": "Miami",  
         "distance_to_city_center_km": 6.4,  
         "distance_to_airport_km": 12.1,  
         "median_income": 56000,  
         "Dental Visit": 68.0,  
         "General Health": 16.5,  
         "was_remodeled": 0  
     }'
```

**–û—Ç–≤–µ—Ç:**
```json
{ "prediction_usd": 639468.94 }
```

### `/predict_batch` ‚Äî –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç–æ–≤  
**–ó–∞–ø—Ä–æ—Å:**
```bash
curl -X POST http://127.0.0.1:8000/predict_batch      -H "Content-Type: application/json"      -d '[  
          { "propertyType": "single_family", "baths": 4, "city": "San Antonio", "sqft": 3200, "state": "TX", "year_built": 2008, "median_income": 52000 },  
          { "propertyType": "single_family", "baths": 2, "city": "Tampa",         "sqft": 1500, "state": "FL", "year_built": 1995, "median_income": 48000 }  
        ]'
```

**–û—Ç–≤–µ—Ç:**
```json
{  
  "predictions_usd": [1143093.62, 639468.94],  
  "count": 2  
}
```

---

## üß™ –ú–µ—Ç—Ä–∏–∫–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–æ –º–æ–¥–µ–ª–∏

| –ú–µ—Ç—Ä–∏–∫–∞  | –ó–Ω–∞—á–µ–Ω–∏–µ          | –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è                         |
|----------|-------------------|----------------------------------------|
| R¬≤       | ‚âà‚ÄØ0.72            | –ú–æ–¥–µ–ª—å –æ–±—ä—è—Å–Ω—è–µ—Ç ~72% –≤–∞—Ä–∏–∞—Ü–∏–∏ —Ü–µ–Ω    |
| MAE      | ‚âà‚ÄØ138‚ÄØ—Ç—ã—Å. USD    | –°—Ä–µ–¥–Ω—è—è –∞–±—Å–æ–ª—é—Ç–Ω–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–æ–≥–Ω–æ–∑–∞    |
| RMSE     | ‚âà‚ÄØ355‚ÄØ—Ç—ã—Å. USD    | –°–∏–ª—å–Ω–æ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞ –∫ –≤—ã–±—Ä–æ—Å–∞–º        |

---

## üê≥ Docker-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

–§–∞–π–ª `Dockerfile`:

```dockerfile
FROM python:3.10‚Äëslim
WORKDIR /app
COPY . .
RUN pip install -r requirements.txt
EXPOSE 8000
CMD ["python3", "app/server.py"]
```

–ó–∞–ø—É—Å–∫:
```bash
docker build -t housing-price-api .
docker run -p 8000:8000 housing-price-api
```

---

## ‚úÖ –ö–∞–∫ –¥–∞–ª—å—à–µ

1. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–æ–±—É—á–∏—Ç–µ –º–æ–¥–µ–ª—å –≤ `src/main.ipynb`.  
2. –û–±–Ω–æ–≤–∏—Ç–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –≤ –ø–∞–ø–∫–µ `artifacts/`.  
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ API‚Äë—Å–µ—Ä–≤–∏—Å (–∏–ª–∏ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ Docker‚Äë–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä).  
4. –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω: CI/CD, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.

---

## ‚öôÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- Python‚ÄØ3.10  
- Flask  
- lightgbm, scikit‚Äëlearn  
- Pandas, NumPy  
- joblib, json  
- Docker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---



